"use strict";(self.webpackChunkgiveth_docs=self.webpackChunkgiveth_docs||[]).push([[6460],{4140:(e,a,i)=>{i.d(a,{Ay:()=>d,RM:()=>s});var n=i(4848),r=i(8453);const s=[];function o(e){const a={a:"a",em:"em",hr:"hr",p:"p",strong:"strong",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:(0,n.jsxs)(a.em,{children:["Giveth TRACE ha quedado oficialmente en desuso. Despu\xe9s de 5 fieles a\xf1os de servicio, la plataforma, servicios y productos de Giveth han sido completamente trasladados e incorporados a ",(0,n.jsx)(a.a,{href:"https://giveth.io/",children:"https://giveth.io/"}),". Con el cierre de la red Rinkeby y el bajo n\xfamero de usuarios que la utilizan, la Giveth DAO decidi\xf3 dar fin a la dApp original en el tercer trimestre de 2022. El c\xf3digo fue y siempre ser\xe1 open-source y se puede encontrar en los ",(0,n.jsx)(a.a,{href:"https://github.com/Giveth",children:"repositorios p\xfablicos de Giveth en Github"}),"."]})})}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:(0,n.jsx)(a.em,{children:"Esta documentaci\xf3n quedar\xe1 disponible con el fin de tener una referencia hist\xf3rica de la primera etapa de Giveth."})})}),"\n",(0,n.jsx)(a.hr,{})]})}function d(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},5461:(e,a,i)=>{i.r(a),i.d(a,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>t,metadata:()=>n,toc:()=>u});const n=JSON.parse('{"id":"bridgeSecurity","title":"Implementaci\xf3n de seguridad del puente Giveth","description":"Una descripci\xf3n t\xe9cnica de las caracter\xedsticas, roles y teor\xeda detr\xe1s de la seguridad del Puente Giveth.","source":"@site/i18n/es/docusaurus-plugin-content-docs-dapps/current/bridgeSecurity.md","sourceDirName":".","slug":"/dapps/bridgeSecurity","permalink":"/es/dapps/bridgeSecurity","draft":false,"unlisted":false,"editUrl":"https://github.com/giveth/giveth-docs/edit/master/dapps/bridgeSecurity.md","tags":[],"version":"current","lastUpdatedBy":"Mitch Oz","lastUpdatedAt":1667574492000,"frontMatter":{"id":"bridgeSecurity","title":"Implementaci\xf3n de seguridad del puente Giveth","slug":"dapps/bridgeSecurity"}}');var r=i(4848),s=i(8453),o=i(6025),d=i(4140);const t={id:"bridgeSecurity",title:"Implementaci\xf3n de seguridad del puente Giveth",slug:"dapps/bridgeSecurity"},l=void 0,c={},u=[...d.RM,{value:"Una descripci\xf3n t\xe9cnica de las caracter\xedsticas, roles y teor\xeda detr\xe1s de la seguridad del Puente Giveth.",id:"una-descripci\xf3n-t\xe9cnica-de-las-caracter\xedsticas-roles-y-teor\xeda-detr\xe1s-de-la-seguridad-del-puente-giveth",level:4},{value:"\xbfQu\xe9 es exactamente el puente Giveth?",id:"qu\xe9-es-exactamente-el-puente-giveth",level:3},{value:"\xbfComo funciona?",id:"como-funciona",level:3},{value:"Funciones de seguridad",id:"funciones-de-seguridad",level:2},{value:"Propietario de red principal",id:"propietario-de-red-principal",level:3},{value:"Financiaci\xf3n de Mainnet y Destino EscapeHatch",id:"financiaci\xf3n-de-mainnet-y-destino-escapehatch",level:3},{value:"Guardia de seguridad",id:"guardia-de-seguridad",level:3},{value:"Red principal EscapeHatchCaller",id:"red-principal-escapehatchcaller",level:3},{value:"Gastadores permitidos",id:"gastadores-permitidos",level:3},{value:"Propietario de ForeignGivethBridge",id:"propietario-de-foreigngivethbridge",level:3},{value:"Rinkeby DappGod Multisig",id:"rinkeby-dappgod-multisig",level:3},{value:"Rinkeby EscapeHatchCaller",id:"rinkeby-escapehatchcaller",level:3},{value:"Posibles escenarios de problemas de seguridad",id:"posibles-escenarios-de-problemas-de-seguridad",level:2}];function p(e){const a={code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",p:"p",strong:"strong",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Ay,{}),"\n",(0,r.jsx)(a.h4,{id:"una-descripci\xf3n-t\xe9cnica-de-las-caracter\xedsticas-roles-y-teor\xeda-detr\xe1s-de-la-seguridad-del-puente-giveth",children:"Una descripci\xf3n t\xe9cnica de las caracter\xedsticas, roles y teor\xeda detr\xe1s de la seguridad del Puente Giveth."}),"\n",(0,r.jsx)(a.p,{children:(0,r.jsx)(a.em,{children:"Este documento asume que el lector tiene conocimientos b\xe1sicos de contratos inteligentes, contratos multisig y cadenas de testnet de Ethereum."})}),"\n",(0,r.jsx)(a.h3,{id:"qu\xe9-es-exactamente-el-puente-giveth",children:"\xbfQu\xe9 es exactamente el puente Giveth?"}),"\n",(0,r.jsx)(a.p,{children:"El puente tiene 3 partes: un contrato en Ethereum Mainnet, un contrato en Rinkeby Testnet y un servicio fuera de la cadena que conecta estos dos contratos. El servicio fuera de la cadena escucha los eventos de estos contratos y transmite los comandos de un contrato al otro."}),"\n",(0,r.jsx)("img",{id:"contentimg",alt:"Dar flujo de TRACE Bridge",src:(0,o.Ay)("img/content/trace/givethbridge.png")}),"\n",(0,r.jsx)(a.h3,{id:"como-funciona",children:"\xbfComo funciona?"}),"\n",(0,r.jsx)(a.p,{children:"El contrato de Giveth Bridge en la red principal es simplemente un contrato de b\xf3veda con 1 medida de seguridad adicional y algunas modificaciones para que funcione como un puente. Los pagos solo se pagan bajo ciertas condiciones. Cada pago puente tiene un bloqueo de tiempo est\xe1ndar de 48 horas antes de que se pueda realizar el pago."}),"\n",(0,r.jsx)(a.p,{children:"Durante este tiempo, el guardia de seguridad tiene la capacidad de retrasar un pago m\xe1s all\xe1 de las 48 horas est\xe1ndar, hasta 30 d\xedas. Esto da tiempo para determinar si un pago debe cancelarse o no. No se pueden emitir pagos sin un registro del Guardia de seguridad que ocurra XX minutos despu\xe9s de que se solicit\xf3 el pago. Este check-in se realizar\xe1 diariamente para no retrasar los pagos autorizados."}),"\n",(0,r.jsxs)(a.p,{children:["Tambi\xe9n hay un ",(0,r.jsx)(a.code,{children:"escapeHatch"})," que puede ser llamado por un ",(0,r.jsx)(a.code,{children:"escapeHatchCaller"})," para enviar los fondos en el puente al multisig de financiaci\xf3n durante el retraso de 48 horas, o cualquier retraso adicional generado por el Guardia de Seguridad."]}),"\n",(0,r.jsxs)(a.p,{children:["Este multigrado de financiamiento tambi\xe9n retendr\xe1 fondos durante alg\xfan tiempo para diversificar el riesgo entre el contrato Bridge y el contrato Multisig Consensus, cuando el puente tenga demasiado valor, el multisig de financiamiento ",(0,r.jsx)(a.code,{children:"escapeFunds()"})," del puente y cuando el puente se est\xe9 poniendo bajo, el multisig de financiaci\xf3n lo completar\xe1 manualmente."]}),"\n",(0,r.jsx)(a.p,{children:"Las donaciones y los retiros se realizar\xe1n directamente desde el puente. Cuando se realiza una donaci\xf3n al puente, TokenFactory crea un token (a 1:1 ETH) y lo env\xeda a LiquidPledging, donde se toman las decisiones sobre los gastos. Cuando se solicita un pago, los tokens se env\xedan desde Liquid Pledge y se queman en ForeignGivethBridge, momento en el que se emite el comando de vuelta a trav\xe9s del Ghetto Bridge usando la llave del puente para el Giveth Bridge para emitir un pago."}),"\n",(0,r.jsx)(a.p,{children:"En caso de que por alguna raz\xf3n el puente se caiga, el servicio de escucha emitir\xe1 alarmas para notificar una interrupci\xf3n del servicio. El servicio de escucha tambi\xe9n crear\xe1 una alarma si se crean tokens sin una donaci\xf3n correspondiente, o si no se crean tokens en el momento de la donaci\xf3n."}),"\n",(0,r.jsx)(a.h2,{id:"funciones-de-seguridad",children:"Funciones de seguridad"}),"\n",(0,r.jsx)(a.h3,{id:"propietario-de-red-principal",children:"Propietario de red principal"}),"\n",(0,r.jsx)(a.p,{children:"Este es el Giveth multisig que puede emitir comandos de control al puente. Pueden cancelar cualquier pago y pueden arrancar el Vigilante de Seguridad o quitar el gastador aprobado (llave puente)."}),"\n",(0,r.jsx)(a.h3,{id:"financiaci\xf3n-de-mainnet-y-destino-escapehatch",children:"Financiaci\xf3n de Mainnet y Destino EscapeHatch"}),"\n",(0,r.jsx)(a.p,{children:"Este multisig se utiliza para enviar fondos a Mainnet Bridge (Vault) y actuar como destino de la llamada EscapeHatch."}),"\n",(0,r.jsx)(a.h3,{id:"guardia-de-seguridad",children:"Guardia de seguridad"}),"\n",(0,r.jsx)(a.p,{children:"Vigila todos los pagos solicitados, verifica todos los d\xedas y retrasa los pagos sospechosos."}),"\n",(0,r.jsx)(a.h3,{id:"red-principal-escapehatchcaller",children:"Red principal EscapeHatchCaller"}),"\n",(0,r.jsx)(a.p,{children:"Este es un 1 de x multisig que puede hacer que la b\xf3veda descargue sus fondos en una billetera predeterminada. Tenemos personas que est\xe1n dispersas por todo el mundo, m\xfaltiples puntos de contacto que pueden hacer esto."}),"\n",(0,r.jsx)(a.h3,{id:"gastadores-permitidos",children:"Gastadores permitidos"}),"\n",(0,r.jsx)(a.p,{children:"Estas direcciones son una lista blanca que puede emitir una solicitud de pago al contrato del puente. En la aplicaci\xf3n, la clave puente es el \xfanico Gastador Permitido."}),"\n",(0,r.jsx)(a.h3,{id:"propietario-de-foreigngivethbridge",children:"Propietario de ForeignGivethBridge"}),"\n",(0,r.jsx)(a.p,{children:"La llave del puente."}),"\n",(0,r.jsx)(a.h3,{id:"rinkeby-dappgod-multisig",children:"Rinkeby DappGod Multisig"}),"\n",(0,r.jsxs)(a.p,{children:["Este multisig controla las actualizaciones y tiene acceso total para controlar ForeignGivethBridge. Tambi\xe9n act\xfaa como ",(0,r.jsx)(a.code,{children:"escapeHatchDestination"})," para ForeignGivethBridge y Liquid Pledge."]}),"\n",(0,r.jsx)(a.h3,{id:"rinkeby-escapehatchcaller",children:"Rinkeby EscapeHatchCaller"}),"\n",(0,r.jsx)(a.p,{children:"Este es un 1 de x multisig que puede activar los contratos ForeignGivethBridge y Liquid Pledge para descargar sus tokens en una billetera predeterminada."}),"\n",(0,r.jsx)(a.h2,{id:"posibles-escenarios-de-problemas-de-seguridad",children:"Posibles escenarios de problemas de seguridad"}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"Bridge Key est\xe1 comprometida:"}),"\r\nUn pirata inform\xe1tico podr\xeda usar la clave de puente para crear transacciones que env\xeden ETH a su propia direcci\xf3n para forzar las transacciones. El guardia de seguridad puede retrasar estos pagos el tiempo suficiente para que el propietario multisig cancele el pago y elimine la clave comprometida en Mainnet."]}),"\n",(0,r.jsx)(a.p,{children:"Tambi\xe9n podr\xedan crear tokens GivETH como controlador de tokens en el lado de rinkeby. Sin embargo, el servicio de escucha detectar\xeda esto y har\xeda sonar la alarma cada vez que se generen tokens GivETH sin una donaci\xf3n de Ether correspondiente. (tambi\xe9n suena una alarma si el servicio de claves del puente decide tomar una siesta y no crea tokens GiveETH cuando se recibe una donaci\xf3n)."}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"El propietario multisig tiene un error y se puede tomar el control (como el hack de paridad) o 6 claves de 11 claves est\xe1n comprometidas:"}),"\r\nEsto es muy poco probable, pero si esto sucede, no habr\xe1 p\xe9rdida de fondos. Este multisig no tiene fondos, solo controla el puente. se podr\xeda reducir el retraso de 48 horas a 25 horas, el Guardia de seguridad a\xfan puede retrasar cualquier pago, pero el Guardia de seguridad puede ser reemplazado por el propietario. Los fondos podr\xedan escaparse dentro de las 25 horas en este escenario."]}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"Las claves de EscapeHatchCaller se ven comprometidas:"}),"\r\nEn este caso, lo peor que puede pasar es que se interrumpa el flujo de la DApp en Rinkeby. Sin embargo, esto se puede reparar eliminando la clave comprometida en EscapeHatch 1 de x multisig y DAppGod. Una vez hecho esto, simplemente env\xede los tokens de devoluci\xf3n a la direcci\xf3n de donde provienen, es posible un escenario similar en Mainnet. EscapeHatch Caller solo puede mover dinero a un destino de escape, y a ning\xfan otro lugar. Si una clave se ve comprometida, lo peor que pueden hacer es eliminar a todos los propietarios y a ellos mismos del EscapeHatch multisig, pero el propietario 6 de 11 multisig en la red principal a\xfan puede llamar a EscapeHatch y puede reemplazar a la persona que llama EscapeHatch y el 3 de 5 multisig en rinkeby puede tambi\xe9n."]}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"La financiaci\xf3n Multisig tiene un error y se puede tomar el control (como el truco de la paridad) o 4 claves de las 7 claves est\xe1n comprometidas:"}),"\r\nEsto es extremadamente improbable, pero si esto sucede, habr\xe1 una p\xe9rdida de fondos. Sin embargo, la p\xe9rdida no ser\xeda catastr\xf3fica ya que los fondos se dividen entre el puente y el multisig."]}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"El puente en la red principal tiene un error que permite que otra persona se haga cargo como propietario:"}),"\r\nEl retraso de 48 horas solo se puede reducir a 25 horas. El guardia de seguridad a\xfan puede retrasar cualquier pago, pero el guardia de seguridad puede ser reemplazado por el propietario. Los fondos podr\xedan escaparse dentro de las 25 horas en este escenario."]}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"DAppGod Multisig en la red de prueba decide hacerse cargo:"}),"\r\nSi esto ocurriera, el EscapeHatch del puente evitar\xeda cualquier p\xe9rdida de fondos, y la configuraci\xf3n de la red de prueba podr\xeda volver a implementarse manualmente."]}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"\xbfQu\xe9 pasa si la llave del guardia de seguridad y el controlador de la llave del puente se ven comprometidos (o sus titulares se confabulan para robar fondos)"}),":\r\nEl Titular multisig puede cancelar pagos y extender el tiempo de demora a m\xe1s de 48 horas. En este escenario, probablemente no tendr\xedan que hacerlo porque los fondos puente pueden escaparse a la multisig de financiaci\xf3n. Este es el \xfanico escenario que podr\xeda representar un riesgo grave para los fondos en la b\xf3veda del puente. Esto podr\xeda evitarse dentro de las 48 horas posteriores al inicio del evento debido a la demora predeterminada y los fondos pueden escaparse durante ese per\xedodo."]}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"Finalmente, \xbfqu\xe9 pasa si Event Listener se desconecta justo antes de cualquiera de los ataques antes mencionados que activan alarmas en caso de compromiso?"}),"\r\nEl guardia de seguridad debe ver cualquier transacci\xf3n sospechosa y puede retrasar los pagos hasta que se solucionen."]})]})}function m(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,r.jsx)(a,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},8453:(e,a,i)=>{i.d(a,{R:()=>o,x:()=>d});var n=i(6540);const r={},s=n.createContext(r);function o(e){const a=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function d(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(s.Provider,{value:a},e.children)}}}]);