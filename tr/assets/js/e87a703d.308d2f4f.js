"use strict";(self.webpackChunkgiveth_docs=self.webpackChunkgiveth_docs||[]).push([[7766],{3905:(e,a,r)=>{r.d(a,{Zo:()=>k,kt:()=>u});var n=r(7294);function t(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function i(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?i(Object(r),!0).forEach((function(a){t(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}function o(e,a){if(null==e)return{};var r,n,t=function(e,a){if(null==e)return{};var r,n,t={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],a.indexOf(r)>=0||(t[r]=e[r]);return t}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],a.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}var s=n.createContext({}),d=function(e){var a=n.useContext(s),r=a;return e&&(r="function"==typeof e?e(a):l(l({},a),e)),r},k=function(e){var a=d(e.components);return n.createElement(s.Provider,{value:a},e.children)},p={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},m=n.forwardRef((function(e,a){var r=e.components,t=e.mdxType,i=e.originalType,s=e.parentName,k=o(e,["components","mdxType","originalType","parentName"]),m=d(r),u=t,c=m["".concat(s,".").concat(u)]||m[u]||p[u]||i;return r?n.createElement(c,l(l({ref:a},k),{},{components:r})):n.createElement(c,l({ref:a},k))}));function u(e,a){var r=arguments,t=a&&a.mdxType;if("string"==typeof e||t){var i=r.length,l=new Array(i);l[0]=m;var o={};for(var s in a)hasOwnProperty.call(a,s)&&(o[s]=a[s]);o.originalType=e,o.mdxType="string"==typeof e?e:t,l[1]=o;for(var d=2;d<i;d++)l[d]=r[d];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},9656:(e,a,r)=>{r.r(a),r.d(a,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var n=r(7462),t=(r(7294),r(3905));const i={id:"regenFarmContracts",title:"Regen Farm Ak\u0131ll\u0131 Kontrat Rehberi",slug:"dapps/regenFarmContracts"},l=void 0,o={unversionedId:"regenFarmContracts",id:"regenFarmContracts",title:"Regen Farm Ak\u0131ll\u0131 Kontrat Rehberi",description:"GIVeconomy, baz\u0131 olanaklar sunmak \xfczere birlikte \xe7al\u0131\u015fan denetimden ge\xe7mi\u015f ak\u0131ll\u0131 kontratlardan olu\u015fan bir koleksiyon olarak de\u011ferlendirilebilir: bunlar aras\u0131nda token streaming, airdrop ve \xe7e\u015fitli farming y\xf6ntemleribulunur. Kontratlar ve script'lere Giveth giv-token-contracts repository'den eri\u015febilirsiniz.",source:"@site/i18n/tr/docusaurus-plugin-content-docs-dapps/current/regenFarmContracts.md",sourceDirName:".",slug:"/dapps/regenFarmContracts",permalink:"/tr/dapps/regenFarmContracts",draft:!1,editUrl:"https://github.com/giveth/giveth-docs/edit/master/dapps/regenFarmContracts.md",tags:[],version:"current",lastUpdatedBy:"divine-comedian",lastUpdatedAt:1656941997,formattedLastUpdatedAt:"4 Tem 2022",frontMatter:{id:"regenFarmContracts",title:"Regen Farm Ak\u0131ll\u0131 Kontrat Rehberi",slug:"dapps/regenFarmContracts"},sidebar:"dapps",previous:{title:"Development Process",permalink:"/tr/dapps/developmentProcess"},next:{title:"Intro to Giveth TRACE",permalink:"/tr/dapps/introTrace"}},s={},d=[{value:"Kontratlar",id:"kontratlar",level:2},{value:"Streaming",id:"streaming",level:3},{value:"Airdrop",id:"airdrop",level:2},{value:"Farming",id:"farming",level:2},{value:"Deploy \u0130\u015flemi",id:"deploy-i\u0307\u015flemi",level:2}],k={toc:d};function p(e){let{components:a,...r}=e;return(0,t.kt)("wrapper",(0,n.Z)({},k,r,{components:a,mdxType:"MDXLayout"}),(0,t.kt)("p",null,"GIVeconomy, baz\u0131 olanaklar sunmak \xfczere birlikte \xe7al\u0131\u015fan denetimden ge\xe7mi\u015f ak\u0131ll\u0131 kontratlardan olu\u015fan bir koleksiyon olarak de\u011ferlendirilebilir: bunlar aras\u0131nda token streaming, airdrop ve \xe7e\u015fitli farming y\xf6ntemleribulunur. Kontratlar ve script'lere Giveth ",(0,t.kt)("a",{parentName:"p",href:"https://github.com/Giveth/giv-token-contracts"},"giv-token-contracts")," repository'den eri\u015febilirsiniz."),(0,t.kt)("h2",{id:"kontratlar"},"Kontratlar"),(0,t.kt)("h3",{id:"streaming"},"Streaming"),(0,t.kt)("p",null,"Streaming kontrat\u0131, \xf6d\xfcllerin (airdrop, likidite madencili\u011fi \xf6d\xfclleri, vb.) tamam\u0131n\u0131n son kullan\u0131c\u0131 c\xfczdan\u0131na derhal g\xf6nderilmesi yerine belirli bir zaman aral\u0131\u011f\u0131nda kademeli olarak serbest b\u0131rak\u0131lmas\u0131na olanak sa\u011flar. Bunun i\xe7in kullan\u0131c\u0131lara yap\u0131lacak b\xfct\xfcn \xf6d\xfcl \xf6demeleri, gelleneksel ",(0,t.kt)("inlineCode",{parentName:"p"},"transfer/safeTransfer")," yerine ",(0,t.kt)("inlineCode",{parentName:"p"},"allocate")," y\xf6ntemi ile ger\xe7ekle\u015ftirilir.\n",(0,t.kt)("strong",{parentName:"p"},"Stream")," kontratlar\u0131, a\u015fa\u011f\u0131daki yap\u0131land\u0131rma parametreleri ile deploy edilir:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("strong",{parentName:"li"},"Total Tokens"),": Stream s\xfcresi boyunca da\u011f\u0131t\u0131lacak toplam token miktar\u0131"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("strong",{parentName:"li"},"Start Time"),": Stream'in ba\u015flayaca\u011f\u0131 zaman damgas\u0131"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("strong",{parentName:"li"},"Duration"),": Stream'in toplam s\xfcres. Stream'in sonunda tokenlar\u0131n %100'\xfc serbest kal\u0131r ve al\u0131c\u0131lar taraf\u0131ndan claim edilebilir."),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("strong",{parentName:"li"},"Cliff Period"),": Stream'in ba\u015flang\u0131c\u0131ndan sonra ilk periyodun s\xfcresi. Bu periyotta strem'in yaln\u0131zca ba\u015flang\u0131\xe7 y\xfczdesi claim edilebilir."),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("strong",{parentName:"li"},"Initial Percentage"),": ",(0,t.kt)("em",{parentName:"li"},"Cliff Period")," s\u0131ras\u0131nda \xf6d\xfcllerin hemen claim edilebilir k\u0131sm\u0131 (y\xfczdesi)")),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"TokenDistro"),", steraming \xf6zelli\u011fini uygulayan ak\u0131ll\u0131 kontratt\u0131r. Al\u0131c\u0131n\u0131n bakiyesini stream'e eklemek i\xe7in hak sahibi her t\xfcrl\xfc kontrat veya hak sahii kullan\u0131c\u0131 ",(0,t.kt)("strong",{parentName:"p"},"TokenDistro")," \xfczerindeki ",(0,t.kt)("inlineCode",{parentName:"p"},"allocate")," y\xf6ntemini \xe7a\u011f\u0131rabilir. ",(0,t.kt)("inlineCode",{parentName:"p"},"allocate"),"'i \xe7a\u011f\u0131rabilen kontratlar ve kullan\u0131c\u0131lar\u0131n ",(0,t.kt)("strong",{parentName:"p"},"TokenDistro")," ak\u0131ll\u0131 knotrat\u0131nda ",(0,t.kt)("strong",{parentName:"p"},"DISTRIBUTOR")," rol\xfcne sahip olmalar\u0131 gerkeir. Bunlara ",(0,t.kt)("strong",{parentName:"p"},"Distributor")," ad\u0131 verilir. Distributor'lar\u0131n her biri da\u011f\u0131t\u0131m yapabilece\u011fi bakiyeye sahiptipr. Dolay\u0131s\u0131yla, allocation fonksiyonu \xe7a\u011fr\u0131ld\u0131\u011f\u0131nda, tahsis edilen g\xf6nderilecek miktar distributor'un bakiyesinden d\xfc\u015f\xfcl\xfcr ve al\u0131c\u0131n\u0131n bakiyesine eklenir.\nTahsis edilen miktar\u0131n belirli bir y\xfczdesi hemen claim edilebilir ve geri kalan y\xfczde ise al\u0131c\u0131n\u0131n stream ak\u0131\u015f h\u0131z\u0131n\u0131 art\u0131r\u0131r. Ak\u0131\u015f h\u0131z\u0131, haftal\u0131k periyorlarda stream'den claim edilebilecek token say\u0131s\u0131n\u0131 ifade eder. Zaman i\xe7erisinde, stream'in geni\u015flemesi artt\u0131k\xe7a al\u0131c\u0131n\u0131n hemen claim edebilece\u011fi y\xfczde artar."),(0,t.kt)("h2",{id:"airdrop"},"Airdrop"),(0,t.kt)("p",null,"Ba\u015flang\u0131\xe7ta token da\u011f\u0131t\u0131m\u0131, ",(0,t.kt)("strong",{parentName:"p"},"MerkleDistro")," ak\u0131ll\u0131 kontrat\u0131 ile ger\xe7ekle\u015ftirilebilir. Bu knotrat Merkle Tree teorisini kullan\u0131r ve hak kazanan al\u0131c\u0131lar\u0131n her birinin airdrop'u claim edebilmek i\xe7in kendilerine \xf6zg\xfc proof verisini sa\u011flamalar\u0131 gerekir. Airdrop de\u011feri asl\u0131nda ",(0,t.kt)("strong",{parentName:"p"},"TokenDistro")," \xfczerinde ",(0,t.kt)("inlineCode",{parentName:"p"},"allocate")," fonksiyonu \xe7a\u011fr\u0131larak tahsis edilir ve kullan\u0131c\u0131n\u0131n stream bakiyesine eklenir.\nMerkleDistro kontratlar\u0131 a\u015fa\u011f\u0131daki yap\u0131land\u0131rma parametreleri ile deploy edilir:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("strong",{parentName:"li"},"Merkle Tree Root"),": Merkle tree root anahtar\u0131"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("strong",{parentName:"li"},"Token Distro Address"),": Deploy edilen TokenDistro kontrat\u0131n\u0131n adresi.\n",(0,t.kt)("strong",{parentName:"li"},"MerkleDistro")," ak\u0131ll\u0131 kontrat\u0131n\u0131 deploy etmek i\xe7in, bir merkle tree olu\u015fturulmal\u0131d\u0131r. Root'un de\u011feri, deploy edilirken ak\u0131ll\u0131 knotratta kullan\u0131lacak ve tree verisinin tamam\u0131 her bir kulllan\u0131c\u0131n\u0131n kendine \xf6zg\xfc path'inden root'u almak i\xe7in gereklidir. ",(0,t.kt)("a",{parentName:"li",href:"https://github.com/Giveth/giv-token-contracts"},"giv-token-contracts")," repo'da, merkle tree verisini olu\u015fturmak i\xe7in kullanabilece\u011finir bir script bulunmaktad\u0131r.")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"ts-node scripts/generate-merkle-root.ts --input <airdrop json file path> --output <output file path>\n")),(0,t.kt)("p",null,"Airdrop verisinin JSON format\u0131nda olu\u015fturulmas\u0131 herkes i\xe7in kolay bir i\u015flem de\u011fildir; kullan\u0131m\u0131 daha kolay bir format olan CSV dosyas\u0131 ile ayr\u0131 bir script arac\u0131l\u0131\u011f\u0131yla ",(0,t.kt)("inlineCode",{parentName:"p"},"airdrop json file")," olu\u015fturulabilir."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"ts-node scripts/csv2json.ts <airdrop csv list path> <airdrop json file path>\n")),(0,t.kt)("h2",{id:"farming"},"Farming"),(0,t.kt)("p",null,"Giveth farming i\xe7in, ",(0,t.kt)("em",{parentName:"p"},"Unipool")," ak\u0131ll\u0131 kontrat\u0131n\u0131n bir t\xfcrevi olan ",(0,t.kt)("strong",{parentName:"p"},"UnipoolTokenDistro"),"'yu kullanmaktad\u0131r. ",(0,t.kt)("strong",{parentName:"p"},"UnipoolTokenDistro"),"'nun fark\u0131, tokenlar\u0131n al\u0131c\u0131 adresine transfer edilmesindense ",(0,t.kt)("em",{parentName:"p"},"TokenDistro(stream)")," \xfczerinde allocate fonksiyonunun \xe7a\u011fr\u0131larak stake edenlere \xf6deme yap\u0131lmas\u0131d\u0131r.\nGenel anlamda, Unipool kontrat\u0131 stake edenleri stake ettikleri likiditeye g\xf6re \xf6d\xfcllendirir. Stake edenler taraf\u0131ndan yat\u0131r\u0131lan, ",(0,t.kt)("inlineCode",{parentName:"p"},"uni")," ad\u0131 verilen likidite token\u0131 native token (\xf6rn: GIV, FOX, vb.) veya bir havuza likidite eklenerek al\u0131nan LP token\u0131 (\xf6rn: UniswapV2, Sushiswap, Honeyswap, vb.) olabilir.\nUnipool \xf6d\xfcl miktar\u0131, ",(0,t.kt)("strong",{parentName:"p"},"rewardDistribution")," taraf\u0131ndan ",(0,t.kt)("inlineCode",{parentName:"p"},"notifyRewardAmount(uint256 reward)")," \xe7a\u011fr\u0131larak ayarlan\u0131r. ",(0,t.kt)("strong",{parentName:"p"},"rewardDistribution"),", ",(0,t.kt)("strong",{parentName:"p"},"owner")," olarak ayarlanabilr ve kontrat\u0131 deploy eden varsay\u0131lan olarak kendi adresini ",(0,t.kt)("strong",{parentName:"p"},"rewardDistribution")," \u015feklinde ayarlayabilir. Bu y\xf6ntem her \xe7a\u011fr\u0131ld\u0131\u011f\u0131nda, Unipool stake edenlere ",(0,t.kt)("inlineCode",{parentName:"p"},"duration")," uzunlu\u011funda bir s\xfcre akdar \xf6d\xfcl da\u011f\u0131tmaya haz\u0131r hale gelir. Dolay\u0131s\u0131yla, \xf6d\xfcl da\u011f\u0131t\u0131c\u0131n\u0131n pozitif \xf6d\xfcl oran\u0131n\u0131 tutturmas\u0131 ve her bir turda \xf6d\xfcl oran\u0131n\u0131n farkl\u0131 bir \u015fekilde ayarlanmas\u0131 i\xe7in ",(0,t.kt)("inlineCode",{parentName:"p"},"notifyRewardAmount")," y\xf6ntemini d\xfczenli olarak \xe7a\u011f\u0131rmas\u0131 gerekmektedir.\n",(0,t.kt)("strong",{parentName:"p"},"UnipoolTokenDistro")," kontratlar\u0131 a\u015fa\u011f\u0131daki yap\u0131land\u0131rma parametreleri ile deploy edilir:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"TokenDistro Address: Deploy edilen TokenDistro kontrat\u0131n\u0131n adresi."),(0,t.kt)("li",{parentName:"ul"},"Uni Token Address: Likidite token\u0131n\u0131n adresi"),(0,t.kt)("li",{parentName:"ul"},"Duration: \xd6d\xfcl program\u0131 turunun uzunlu\u011fu")),(0,t.kt)("h2",{id:"deploy-i\u0307\u015flemi"},"Deploy \u0130\u015flemi"),(0,t.kt)("p",null,"Airdrop ve farmlar ile stream'in deploy i\u015flemi karma\u015f\u0131k olabilir ve manuel olarak yap\u0131l\u0131rken hataya yol a\xe7abilir. Dolay\u0131s\u0131yla, ",(0,t.kt)("a",{parentName:"p",href:"https://github.com/Giveth/giv-token-contracts"},"giv-token-contracts")," repository i\xe7erisinde i\u015flemi kolayla\u015ft\u0131racak script'ler bulunmaktad\u0131r. Bu script'lerin \xe7o\u011fu, GIVeconomy kullan\u0131m\u0131na uygun \u015fekilde haz\u0131rlanm\u0131\u015ft\u0131r.\nAncak, DAO'lar\u0131n kendi stream'lerini (tokenDistro) ve farming programlar\u0131n\u0131 (Unipool) deploy edebilmeleri i\xe7in de bir script mevcuttur. Script'e ",(0,t.kt)("inlineCode",{parentName:"p"},"deployments/regenFarms/1_regenFarm.ts")," \xfczerinden eri\u015febilirsiniz. Bu script, deploy \xf6ncesi yap\u0131land\u0131rmay\u0131 ",(0,t.kt)("inlineCode",{parentName:"p"},"deployments/regenFarms/config.ts")," dosyas\u0131ndan okur. ",(0,t.kt)("inlineCode",{parentName:"p"},"config.ts")," i\xe7erisindeki yap\u0131land\u0131rma format\u0131 a\u015fa\u011f\u0131daki gibidir:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},'const config: IRegenConfig = {\n    alreadyDeployedTokenDistroAddress: "",\n    newTokenDistroParams: {\n        startTime: <start time timestamp>\n        cliffPeriod: <cliff time duration seconds>\n        duration: <duration seconds>\n        initialPercentage: <percentage number, like 20_00>, // two decimals of precision, 20_00 means 20%\n        tokenAddress: <Reward token address>\n        totalTokens: <Total number of tokens to distribute limit>, // In ether format\n        cancelable: <boolean>, // whether admins can cancel an allocation\n    },\n    unipools: {\n        <Key>: {\n            uniTokenAddress: <unit token address>,\n            lmDuration: <unipool reward round duration seconds>\n            rewardAmount: <Unipool balance on token distro>, // Number of tokens it can allocate\n        },\n        ...\n    },\n')),(0,t.kt)("p",null,"Script arac\u0131l\u0131\u011f\u0131yla deploy etmek i\xe7in, bu ortam de\u011fi\u015fkenleri (env variables) ayarlanmal\u0131d\u0131r:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"INFURA_PROJECT_ID: Deploy edilecek a\u011f xDai (Gnosis Chain) yerine farkl\u0131 bir a\u011f oldu\u011funda"),(0,t.kt)("li",{parentName:"ul"},"PRIVATE_KEY: xDai (Gnosis Chain) yerine farkl\u0131 bir a\u011f kullan\u0131ld\u0131\u011f\u0131nda deploy edecek hesab\u0131n gizli anahtar\u0131"),(0,t.kt)("li",{parentName:"ul"},"PRIVATE_KEY_XDAI: xDai (Gnosis Chain) kullan\u0131ld\u0131\u011f\u0131nda, deploy edecek hesab\u0131n gizli anahtar\u0131")),(0,t.kt)("p",null,"Script, a\u015fa\u011f\u0131daki komut ile \xe7al\u0131\u015ft\u0131r\u0131labilir"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"HARDHAT_NETWORK=<network e.g. xDAI, mainnet, kovan> ts-node deployments/regenFarms/1_regenFarm.ts\n")))}p.isMDXComponent=!0}}]);